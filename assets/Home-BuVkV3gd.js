import{_ as b,c as p,a as i,n as w,b as k,d as v,F as y,o as g}from"./index-BecTCumN.js";const C="/assets/Screenshot%202023-11-26%20184038-Dbk3IpLH.png",T={data(){return{coverImage:null,mixedColorHex:null,token:null,tokenExpiration:null}},mounted(){this.startTracking(),this.getToken()},beforeDestroy(){this.stopTracking()},methods:{startTracking(){this.getCurrentTrack(),this.intervalId=setInterval(()=>{this.getCurrentTrack()},5e3)},stopTracking(){this.intervalId&&clearInterval(this.intervalId)},async getToken(){const t="ead25bc7e1ad44f8bccca1930e8a9441";btoa(`${t}:a8ef8727db004bea9e39d01aed7f628c`);const o=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:refreshToken,client_id:t})});if(o.ok){const n=await o.json();this.token=n.accessToken,this.tokenExpiration=Date.now()+n.expires_in*1e3,console.log("Access Token:",this.token)}else console.error("Error fetching token:",o.status)},async checkAndGetToken(){(!this.token||Date.now()>=this.tokenExpiration)&&await this.getToken()},async getCurrentTrack(){await this.checkAndGetToken();const t=await fetch("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:`Bearer ${this.token}`}});if(t.ok){const e=await t.json();this.coverImage=e.item.album.images[0].url,this.getDominantColor(this.coverImage)}else console.error("Error fetching current track:",t.status)},async getDominantColor(t){const e=new Image;e.src=t,e.crossOrigin="Anonymous",e.onload=()=>{const o=document.createElement("canvas");o.width=e.width,o.height=e.height;const n=o.getContext("2d");n.drawImage(e,0,0);const s=n.getImageData(0,0,o.width,o.height).data,c={},x=1e3;for(let r=0;r<s.length;r+=x*4){const l=s[r],d=s[r+1],h=s[r+2],m=(l+d+h)/3;if(m>100&&m<200){const u=`${l},${d},${h}`;c[u]=(c[u]||0)+1}}const f=Object.entries(c).sort((r,l)=>l[1]-r[1]).slice(0,5).map(r=>r[0]);this.mixedColorHex=this.mixColors(f),console.log(this.mixedColorHex)}},mixColors(t){const e={r:0,g:0,b:0};t.forEach(a=>{const s=a.split(",").map(Number);e.r+=s[0],e.g+=s[1],e.b+=s[2]});const o=t.length,n={r:Math.round(e.r/o),g:Math.round(e.g/o),b:Math.round(e.b/o)};return this.rgbToHex(n)},rgbToHex(t){return`#${((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1).padStart(6,"0")}`}}},I={class:"fixed hidden bottom-5 lg:flex items-center justify-center w-full z-[10] rounded-xl"},H={class:"z-[10000]",ref:"myIframe",width:"500",height:"90",src:"https://nowplayi.ng/miniplayer.php?refreshToken=AQCq11cnvFiYWmQNH7GPWG1DGqK52sbfeUd3qbBPwp_Th0Kn1SaG_1wFBwFD-MGlZUSbGZ7jhMDjRZfvlHbGIZLqEdY2QmcTnH38r672hW-POJHUuzYx4XgFIuLHBQIoWmo&showAlbum=true&showArtwork=true&showProgress=true&showPause=true&transparentBackground=true&hideOnPauseOrEmpty=true",frameborder:"0"};function _(t,e,o,n,a,s){return g(),p(y,null,[e[0]||(e[0]=i("div",{class:"w-[300px] hidden sm:flex h-[200px] blur-[10rem] absolute rounded-full bg-indigo-600 top-[200px] left-8"},null,-1)),e[1]||(e[1]=i("div",{class:"w-[300px] h-[200px] blur-[8rem] absolute rounded-full bg-[#0528a2] top-[0px] right-0 z-[1]"},null,-1)),e[2]||(e[2]=i("div",{class:"w-[130px] h-[120px] blur-[10rem] absolute rounded-full bg-orange-500 top-[300px] left-8"},null,-1)),i("div",I,[a.mixedColorHex?(g(),p("div",{key:0,class:"fixed hidden bottom-5 lg:flex items-center transition-opacity justify-center h-[100px] w-[350px] z-[100] blur-[110px] rounded-xl",style:w({backgroundColor:a.mixedColorHex})},null,4)):k("",!0),i("iframe",H,null,512)]),e[3]||(e[3]=v('<div class="main w-full bg-black h-full"><div class="hopm sm:padding-custom relative z-30 overflow-hidden flex flex-col justify-center py-[180px] px-[32px] items-center min-h-screen text-center"><div class="how max-w-[78vw] font-bold text-[30px] sm:text-[50px] sm:max-w-[68vw]"><h1 class="relative"> I&#39;m Mehdi <span class="Hero_icon w-[15rem] h-[5rem] sm:w-[20rem] sm:h-[7rem]"><img class="disf" src="'+C+'"></span><div class="w-[300px] h-[200px] blur-[7rem] absolute rounded-full bg-[#0528a2] right-[150px] top-[50px] -z-10"></div><br>Creative Frontend Developer. </h1></div><div class="sasddfsf text-[1.2rem] sm:text-[1.5rem]"> I develop accessible, responsive, interactive, and animated websites with a strong focus on performance. </div><a href="https://github.com/Mehd1Ghaderi">github</a></div></div>',1))],64)}const E=b(T,[["render",_]]);export{E as default};
